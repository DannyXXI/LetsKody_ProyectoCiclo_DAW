<!-- contenedor principal para el contenido del componente -->
<main id="contenedor-validacion">

    <!-- contenedor para el formulario de validaciÃ³n de codigo por email -->
    <section class="validacion-codigo">

    @if(this.gestionUsuariosService.nuevoUsuario.email){
        
        <h2>ğŸ§™â€â™‚ï¸ Â¡Bienvenid&#64; aventurer&#64;! ğŸ§™â€â™‚ï¸</h2>

        <div class="texto-informacion">
            <p>
                Â¡Kody estÃ¡ muy emocionado de conocerte! Para unirte a esta gran aventura de aprendizaje,
                te hemos enviado un <b>cÃ³digo mÃ¡gico</b> a tu correo electrÃ³nico (<b>{{emailUsuario}}</b>).
            </p>

            <p>
                Busca el mensaje en tu buzÃ³n (y si no lo ves, revisa tambiÃ©n en â€œcorreo no deseadoâ€ por si algÃºn duende lo escondiÃ³ por error).
            </p>

            <p>
                Â¡Escribe el cÃ³digo donde se te pida y desbloquearÃ¡s tu acceso al mundo de Kody!
            </p>            
        </div>
    }
    @else {

        <h2>ğŸ” Â¡Asegura tu mochila mÃ¡gica! ğŸ”</h2>

        <div class="texto-informacion">
            <p>
                Para asegurarnos de que eres tÃº quien estÃ¡ haciendo estos cambios importantes,
                hemos mandado un <b>cÃ³digo secreto</b> al correo (<b>{{emailUsuario}}</b>).
            </p>

            <p>
                Si no lo encuentras, Â¡echa un vistazo en la carpeta de â€œcorreo no deseadoâ€! A veces, los bÃºhos mensajeros se confunden de nido.
            </p>

            <p>
                Introduce el cÃ³digo y todo estarÃ¡ listo para seguir tu viaje mÃ¡gico con Kody.
            </p>
        </div>
    }
        <div class="formulario-validacion">
            <form (submit)="comprobarCodigo($event)">
                <div class="input-group">
                    <input type="text" name="code" [(ngModel)]="codigoVerificacion" (input)="caracteresValidos($event)" minlength="8" maxlength="8" placeholder="Introduce el cÃ³digo..." required/>
                </div>
                <div class="botones">
                    <button type="button" (click)="volver()" class="btn btn-danger">Volver a atrÃ¡s</button>
                    <button type="submit" [disabled]="codigoVerificacion.length < 8" class="btn btn-primary">Verificar</button>
                </div>
            </form>
        </div>
    </section>
</main>

<!-- modal para indicar si el usuario quiere volver a atrÃ¡s -->
<dialog id="modalDosBotones">

    <!-- formulario para el modal (obligatorio que el metodo sea dialog) -->
    <form method="dialog">
        <p [textContent]="mensajeModal" class="p-modal"></p>
        <div class="d-flex justify-content-center gap-3">
            <button type="submit" class="btn btn-dark">Cerrar modal</button>
            <button type="submit" (click)="volverAtras()" class="btn btn-dark">Volver a atrÃ¡s</button> <!-- boton para cerrar el modal -->
        </div>
    </form>
</dialog>

<!-- modal para indicar el exito del registro -->
<dialog id="modalUnBoton">

    <!-- formulario para el modal (obligatorio que el metodo sea dialog) -->
    <form method="dialog">
        <p [textContent]="mensajeModal" class="p-modal"></p>
        <button type="submit" (click)="this.router.navigate(['/login']);" class="btn btn-dark">Volver al login</button>
    </form>
</dialog>

<!-- modal para indicar algun error -->
<dialog id="modalError">

    <!-- formulario para el modal (obligatorio que el metodo sea dialog) -->
    <form method="dialog">
        <p [textContent]="mensajeModal" class="p-modal"></p>
        <button type="submit" class="btn btn-dark">CERRAR</button>
    </form>
</dialog>